<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="qs.classhelper.dao.TbCoursetableMapper" >
  <resultMap id="BaseResultMap" type="qs.classhelper.entity.TbCoursetable" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 22 14:17:54 CST 2018.
    -->
    <id column="scoreNum" property="scorenum" jdbcType="INTEGER" />
    <result column="c_dateTime" property="cDatetime" jdbcType="VARCHAR" />
    <result column="c_classromm" property="cClassromm" jdbcType="VARCHAR" />
    <result column="c_morning1_class" property="cMorning1Class" jdbcType="VARCHAR" />
    <result column="c_morning1_teacher" property="cMorning1Teacher" jdbcType="VARCHAR" />
    <result column="c_morning1_course" property="cMorning1Course" jdbcType="VARCHAR" />
    <result column="c_morning2_class" property="cMorning2Class" jdbcType="VARCHAR" />
    <result column="c_morning2_teacher" property="cMorning2Teacher" jdbcType="VARCHAR" />
    <result column="c_morning2_course" property="cMorning2Course" jdbcType="VARCHAR" />
    <result column="c_afternoon1_class" property="cAfternoon1Class" jdbcType="VARCHAR" />
    <result column="c_afternoon1_teacher" property="cAfternoon1Teacher" jdbcType="VARCHAR" />
    <result column="c_afternoon1_course" property="cAfternoon1Course" jdbcType="VARCHAR" />
    <result column="c_afternoon2_class" property="cAfternoon2Class" jdbcType="VARCHAR" />
    <result column="c_afternoon2_teacher" property="cAfternoon2Teacher" jdbcType="VARCHAR" />
    <result column="c_afternoon2_course" property="cAfternoon2Course" jdbcType="VARCHAR" />
    <result column="c_evening_class" property="cEveningClass" jdbcType="VARCHAR" />
    <result column="c_evening_teacher" property="cEveningTeacher" jdbcType="VARCHAR" />
    <result column="c_evening_course" property="cEveningCourse" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 22 14:17:54 CST 2018.
    -->
    scoreNum, c_dateTime, c_classromm, c_morning1_class, c_morning1_teacher, c_morning1_course, 
    c_morning2_class, c_morning2_teacher, c_morning2_course, c_afternoon1_class, c_afternoon1_teacher, 
    c_afternoon1_course, c_afternoon2_class, c_afternoon2_teacher, c_afternoon2_course, 
    c_evening_class, c_evening_teacher, c_evening_course
  </sql>
 <insert id="insert" parameterType="qs.classhelper.dao.TbCoursetableMapper" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 22 14:17:54 CST 2018.
    -->
    insert into tb_coursetable (scoreNum, c_dateTime, c_classromm, 
      c_morning1_class, c_morning1_teacher, c_morning1_course, 
      c_morning2_class, c_morning2_teacher, c_morning2_course, 
      c_afternoon1_class, c_afternoon1_teacher, c_afternoon1_course, 
      c_afternoon2_class, c_afternoon2_teacher, c_afternoon2_course, 
      c_evening_class, c_evening_teacher, c_evening_course
      )
    values (#{scorenum,jdbcType=INTEGER}, #{cDatetime,jdbcType=VARCHAR}, #{cClassromm,jdbcType=VARCHAR}, 
      #{cMorning1Class,jdbcType=VARCHAR}, #{cMorning1Teacher,jdbcType=VARCHAR}, #{cMorning1Course,jdbcType=VARCHAR}, 
      #{cMorning2Class,jdbcType=VARCHAR}, #{cMorning2Teacher,jdbcType=VARCHAR}, #{cMorning2Course,jdbcType=VARCHAR}, 
      #{cAfternoon1Class,jdbcType=VARCHAR}, #{cAfternoon1Teacher,jdbcType=VARCHAR}, #{cAfternoon1Course,jdbcType=VARCHAR}, 
      #{cAfternoon2Class,jdbcType=VARCHAR}, #{cAfternoon2Teacher,jdbcType=VARCHAR}, #{cAfternoon2Course,jdbcType=VARCHAR}, 
      #{cEveningClass,jdbcType=VARCHAR}, #{cEveningTeacher,jdbcType=VARCHAR}, #{cEveningCourse,jdbcType=VARCHAR}
      )
  </insert>
 <delete id="deleteAllCourse">
  DELETE  FROM tb_coursetable
 </delete>
 <select id="getAllCourseScore"  resultMap="BaseResultMap" >
  select * from tb_coursetable
 </select>
 
 <select id="getAllCourseInfo"  resultType="qs.classhelper.entity.TbCoursetable">
  select * from tb_coursetable
  </select>
  <select id="getTheachers" resultType="qs.classhelper.entity.TbCourseif">
  SELECT c_morning1_teacher AS cMorning1Teacher,c_dateTime AS cDatetime FROM 
(SELECT c_morning1_class,c_morning1_course,c_dateTime, c_classromm,c_morning1_teacher FROM tb_coursetable
UNION ALL
SELECT c_morning2_class,c_morning2_course,c_dateTime, c_classromm,c_morning2_teacher FROM tb_coursetable
UNION ALL
SELECT c_afternoon1_class,c_afternoon1_course,c_dateTime,c_classromm,c_afternoon1_teacher FROM tb_coursetable
UNION ALL
SELECT c_afternoon2_class,c_afternoon2_course,c_dateTime,c_classromm,c_afternoon2_teacher FROM tb_coursetable
UNION ALL
SELECT c_evening_class,c_evening_course,c_dateTime,c_classromm,c_evening_teacher FROM tb_coursetable) AS b GROUP BY c_morning1_teacher,cDatetime
  </select>
 <select id="getTeacherDateInfo" parameterType="qs.classhelper.entity.TbCourseif"  resultType="qs.classhelper.entity.TbCoursetable">
SELECT c_morning1_class AS cMorning1Class,c_morning1_course AS cMorning1Course,c_dateTime AS cDatetime, c_classromm AS cClassromm,c_morning1_type AS cMorning1Type FROM 
(SELECT c_morning1_class,c_morning1_course,c_dateTime, c_classromm,c_morning1_teacher ,c_morning1_type FROM `tb_coursetable`
UNION ALL
SELECT c_afternoon1_class,c_afternoon1_course,c_dateTime,c_classromm,c_afternoon1_teacher,c_afternoon1_type FROM `tb_coursetable`
UNION ALL
SELECT c_evening_class,c_evening_course,c_dateTime,c_classromm,c_evening_teacher, c_evening_type FROM `tb_coursetable`)
 AS b WHERE c_morning1_teacher=#{cMorning1Teacher}  AND c_dateTime =#{cDatetime} GROUP BY c_morning1_class,cMorning1Type
  </select>
  <select id="getDateCount" resultType="int">
  SELECT COUNT(DISTINCT(c_dateTime)) FROM tb_coursetable 
  </select>
  <select id="getDate" resultType="date">
  select DISTINCT(c_dateTime) FROM tb_coursetable
  </select>
 
</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="qs.classhelper.dao.TbTeacharinfoMapper">
	<resultMap id="BaseResultMap" type="qs.classhelper.entity.TbTeacharinfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jan 19 
			17:30:12 CST 2018. -->
		<result column="teacherJobNumber" jdbcType="INTEGER" property="teacherjobnumber" />
		<result column="teacherPhone" jdbcType="VARCHAR" property="teacherphone" />
		<result column="teacherAge" jdbcType="INTEGER" property="teacherage" />
		<result column="teacherSex" jdbcType="INTEGER" property="teachersex" />
		<result column="teacherPic" jdbcType="VARCHAR" property="teacherpic" />
	</resultMap>
	<insert id="insert" parameterType="qs.classhelper.entity.TbTeacharinfo">
		insert into tb_teacharinfo (teacherJobNumber, teacherPhone,
		teacherAge,
		teacherSex, teacherPic)
		values (#{teacherjobnumber,jdbcType=INTEGER},
		#{teacherphone,jdbcType=VARCHAR}, #{teacherage,jdbcType=INTEGER},
		#{teachersex,jdbcType=INTEGER}, #{teacherpic,jdbcType=VARCHAR})
	</insert>
	
	<!-- 删除教员对应的另外的信息 -->
	<delete id="delTbTeacharinfo" parameterType="java.lang.Integer">
		delete from tb_teacharinfo where teacherjobnumber=#{teacherjobnumber}
	</delete>

	<!-- 查询教员对应的另外的信息 -->
	<select id="getTbTeacharinfo" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">
		SELECT * FROM `tb_teacharinfo` WHERE teacherjobnumber IN(SELECT
		teacherJobNumber FROM `tb_teacher` WHERE teacherID = #{teacherID})
	</select>

	<!-- 修改 -->
	<update id="updateByPrimaryKeySelective" parameterType="qs.classhelper.entity.TbTeacharinfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jan 19 
			00:18:10 CST 2018. -->
		update tb_teacharinfo
		<set>
			<if test="teacherjobnumber != null">
				teacherJobNumber = #{teacherjobnumber,jdbcType=INTEGER},
			</if>
			<if test="teacherphone != null">
				teacherphone = #{teacherphone},
			</if>
			<if test="teacherage != null">
				teacherage = #{teacherage},
			</if>
			<if test="teachersex != null">
				teachersex = #{teachersex},
			</if>
			<if test="teacherpic != null">
				teacherpic = #{teacherpic,jdbcType=INTEGER},
			</if>
		</set>
		where teacherjobnumber = #{teacherjobnumber}
	</update>
</mapper>